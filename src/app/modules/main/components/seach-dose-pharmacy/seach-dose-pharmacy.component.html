<div class="content-body">
    <div class="row">
        <div class="col-12">
            <div class="card" [appActionCardButton]="'Search-DoseSpot-Pharmacy'" style="min-height: 65vh;">
                <div class="card-header">
                    <h1 class="card-title title-h1">Search DoseSpot Pharmacy</h1>
                    <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                    <div class="heading-elements">
                        <ul class="list-inline mb-0">
                            
                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                            <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                        </ul>
                    </div>
                </div>
                <div class="card-content collapse show">
                    <div class="col-md-12 card-body card-dashboard">
                        <form class="col-md-12" #f="ngForm" (ngSubmit)="f.form.valid && RefreshTable()">
                            <div class="row col-md-12 border border-light rounded py-2 mb-2">
                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-role">Name</label>
                                    <fieldset class="form-group">
                                        <input type="search" class="form-control" name="Name"
                                            [(ngModel)]="criteria.Name" placeholder="Name" #Name="ngModel" />
                                    </fieldset>
                                </div>
                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-role">City</label>
                                    <fieldset class="form-group">
                                        <input type="search" class="form-control" name="City"
                                            [(ngModel)]="criteria.City" placeholder="City" #City="ngModel" />
                                    </fieldset>
                                </div>
                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-verified">State</label>
                                    <fieldset class="form-group">
                                        <select class="form-control" name="State" [(ngModel)]="criteria.State"
                                            #State="ngModel">
                                            <option>--Any--</option>
                                            <option [value]="item.value" *ngFor="let item  of  stateList">{{item.name}}
                                            </option>
                                        </select>
                                    </fieldset>
                                </div>
                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-role">ZipCode</label>
                                    <fieldset class="form-group">
                                        <input type="search" class="form-control" name="ZipCode"
                                            [textMask]="{mask: maskZipCode}" [(ngModel)]="criteria.ZipCode"
                                            #ZipCode="ngModel" />
                                    </fieldset>
                                </div>
                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-role">Phone Or Fax</label>
                                    <fieldset class="form-group">
                                        <input type="search" class="form-control" name="PhoneOrFax"
                                            [textMask]="{mask: maskPhone}" [(ngModel)]="criteria.PhoneOrFax"
                                            placeholder="Phone Or Fax" #PhoneOrFax="ngModel" />
                                    </fieldset>
                                </div>

                                <div class="col-12 col-sm-6 col-lg-4">
                                    <label for="users-list-role">Address</label>
                                    <fieldset class="form-group">
                                        <input type="search" class="form-control" name="Address"
                                             [(ngModel)]="criteria.Address"
                                            placeholder="Address" #Address="ngModel" />
                                    </fieldset>
                                </div> 
                                
                                <div class="col-12 col-sm-6 col-lg-4 d-flex align-items-center">
                                    <button type="submit" class="btn btn-block btn-green">Search</button>
                                </div>

                                <div class="col-12 col-sm-12 col-lg-12">
                                    <span class="error-message" *ngIf="!criteria.Name && !criteria.City && !criteria.State && !criteria.ZipCode && !criteria.PhoneOrFax && !criteria.Address">
                                        * Please type at least a field
                                    </span>
                                </div> 
                            </div>
                        </form>
                    </div>
                    <div class="card-body card-dashboard">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered base-style" #doseTable>
                                <thead>
                                    <tr class="text-center">
                                        <th>Id</th>
                                        <th>Store Name</th>
                                        <th>Address 1</th>
                                        <th>Address 2</th>
                                        <th>City</th>
                                        <th>State</th>
                                        <th>ZipCode</th>
                                        <th>Primary Phone</th>
                                        <th>Phone Type</th>
                                        <th>Primary Fax</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-center" colspan="10"
                                            *ngIf="!pharmacies || pharmacies.length ==0">
                                            <h4>No Data Pharmacy</h4>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let item of pharmacies">
                                        <td>
                                            {{item.PharmacyId}}
                                        </td>
                                        <td>
                                            {{item.StoreName}}
                                        </td>
                                        <td>
                                            {{item.Address1}}
                                        </td>
                                        <td>
                                            {{item.Address2}}
                                        </td>
                                        <td>
                                            {{item.City}}
                                        </td>
                                        <td>
                                            {{item.State}}
                                        </td>
                                        <td>
                                            {{item.ZipCode}}
                                        </td>
                                        <td>
                                            {{item.PrimaryPhone}}
                                        </td>
                                        <td>
                                            {{item.PrimaryPhoneType}}
                                        </td>
                                        <td>
                                            {{item.PrimaryFax}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>