<div bsModal #childModal="bs-modal" [config]="{backdrop: 'static',  keyboard: false}" class="modal fade" tabindex="-1"
    role="dialog">
    <div class="modal-dialog">
        <form name="form" class="form-horizontal" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate>
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">{{id ? 'Detail Patient Request' :'New Patient Request'}}</h4>
                </div>
                <div class="modal-body">
                    <div class=" col-md-12">
                        <div class="form-group">
                            <label>Patient</label>
                            <ng-select2 name="PatientID" #PatientID="ngModel" [(ngModel)]="model.PatientID"
                            [data]="patients" 
                            [options]="optionsProvider" required></ng-select2>
                            <div class="error-message" *ngIf="f.submitted && PatientID?.errors?.required">
                                This field is required.
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Provider</label>
                            <ng-select2 name="CreatedBy" [(ngModel)]="model.CreatedBy" #CreatedBy="ngModel"
                                    [data]="providers" [value]="model.CreatedBy"  
                                    [options]="optionsProvider" required>
                                </ng-select2>
                            <div class="error-message" *ngIf="f.submitted && CreatedBy?.errors?.required">
                                This field is required.
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select class="form-control" name="RequestCategory" [(ngModel)]="model.RequestCategory"
                                #RequestCategory="ngModel" required>
                                <option value="Refill">Refill</option>
                                <option value="Change Medication">Change Medication</option>
                                <option value="Change Pharmacy">Change Pharmacy</option>
                                <option value="Others">Others</option>
                            </select>
                            <div class="error-message" *ngIf="f.submitted && RequestCategory?.errors?.required">
                                This field is required.
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="form-control" name="Description" [(ngModel)]="model.Description"
                                placeholder="Description" #Description="ngModel" required></textarea>
                            <div class="error-message" *ngIf="f.submitted && Description?.errors?.required">
                                This field is required.
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <!-- <button type="submit" class="btn  btn-green" [disabled]="Submitting" *ngIf="isClosed && !id" (click)="model.Status = 'Closed'">Save & Mark Closed</button>
                    <button type="submit" class="btn  btn-green" [disabled]="Submitting" *ngIf="!isClosed && !id" (click)="model.Status = 'To Do'">Save & Mark To Do</button> -->
                    <button type="submit" class="btn  btn-green" [disabled]="Submitting" >Save</button>
                    <button type="button" class="btn  btn-medical-white" (click)="hide()">Cancel</button>
                </div>
            </div>
        </form>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>