<div class="chat-area" *ngIf="roomInfo" appInitAppChat="">
    <div class="chat-header">
        <header style="background-color: #fdfdfd;" class="d-flex justify-content-between align-items-center px-1 py-75">
            <div class="d-flex align-items-center">
                <div class="chat-sidebar-toggle d-block d-lg-none mr-1"><i
                        class="ft-align-justify font-large-1 cursor-pointer"></i>
                </div>
                <div class="avatar chat-profile-toggle m-0 mr-1">

                </div>
                <h6 class="mb-0">{{roomInfo.Name}}</h6>
            </div>
            <div class="chat-header-icons">
                <span class="chat-icon-favorite">
                    <i class="ft-star font-medium-5 cursor-pointer"></i>
                </span>
                <span class="dropdown">
                    <i class="ft-more-vertical font-medium-4 ml-25 cursor-pointer dropdown-toggle nav-hide-arrow cursor-pointer"
                        id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                        role="menu">
                    </i>
                    <span class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="JavaScript:void(0);"><i class="ft-tag mr-25"></i> Pin to top</a>
                        <a *ngIf="currentUser && currentUser.Role == 'Special_Admin'" class="dropdown-item"
                            (click)="deleteRoomInfo(roomInfo.ID)"><i class="ft-trash-2 mr-25"></i> Delete
                            chat</a>
                        <a class="dropdown-item" href="JavaScript:void(0);"><i class="ft-x-circle mr-25"></i> Block</a>
                    </span>
                </span>
            </div>
        </header>
    </div>
    <!-- chat card start -->
    <div class="card chat-wrapper shadow-none mb-0">
        <div class="card-content">
            <div class="card-body chat-container ps" style="height:70vh;">
                <div class="chat-content">
                    <ng-template ngFor let-item [ngForOf]="messages | orderBySentDate">
                        <div class="chat" *ngIf="item.UserID == currentUser.Id">
                            <div app-message-show-chat="" [item]="item" [isLeft]="false" [path]="item?.Path">
                            </div>
                        </div>
                        <div class="chat chat-left" *ngIf="item.UserID != currentUser.Id">
                            <div app-message-show-chat="" [item]="item" [isLeft]="true" [path]="item?.Path">
                            </div>
                        </div>
                    </ng-template>
                </div>
            </div>
        </div>
        <div class="card-footer chat-footer px-2 py-1 pb-0">
            <form class="d-flex align-items-center" (ngSubmit)="f.form.valid && chatMessagesSend()" #f="ngForm">
                <label class="ft-paperclip ml-1 cursor-pointer" appFileUpload="" [typeUpload]="'chat_file'"
                    (onCallback)="uploaded($event)" [fileType]="1" (onStart)="uploadStatus($event)"
                    (onErrorCallback)="errorUploaded($event)" [link]="'/api/Chat/UploadChatFile'"
                    [userId]="currentUser.Id" [roomId]="roomId">
                    <input type="file" class="sr-only" name="file" accept="*/*">
                </label>
                <input type="text" autocomplete="off" [(ngModel)]="content.Message" name="contentSend"
                    #contentSend="ngModel" class="form-control chat-message-send mx-1"
                    placeholder="Type your message here..." required>
                <button type="submit" class="btn btn-success glow send d-lg-flex"><i class="la 
                        la-send-o"></i>
                    <span class="d-none d-lg-block mx-50">Send</span></button>
            </form>
        </div>
    </div>
    <!-- chat card ends -->
</div>